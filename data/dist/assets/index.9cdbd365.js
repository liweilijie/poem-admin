import{a as e,g as t,b as u,c as o,d as a}from"./menu.c12ec602.js";import{A as l,_ as s,S as V}from"./index.5d61a7e0.js";let n=[];const r={"./../../assets/icons/svg/404.svg":()=>l((()=>import("./404.f447166b.js")),[]),"./../../assets/icons/svg/bug.svg":()=>l((()=>import("./bug.289e4316.js")),[]),"./../../assets/icons/svg/build.svg":()=>l((()=>import("./build.e4679612.js")),[]),"./../../assets/icons/svg/button.svg":()=>l((()=>import("./button.7286310d.js")),[]),"./../../assets/icons/svg/cascader.svg":()=>l((()=>import("./cascader.33824685.js")),[]),"./../../assets/icons/svg/chart.svg":()=>l((()=>import("./chart.90dc8385.js")),[]),"./../../assets/icons/svg/checkbox.svg":()=>l((()=>import("./checkbox.4187a614.js")),[]),"./../../assets/icons/svg/clipboard.svg":()=>l((()=>import("./clipboard.68ae390c.js")),[]),"./../../assets/icons/svg/code.svg":()=>l((()=>import("./code.113035ff.js")),[]),"./../../assets/icons/svg/color.svg":()=>l((()=>import("./color.a6cbfc01.js")),[]),"./../../assets/icons/svg/component.svg":()=>l((()=>import("./component.7ad17828.js")),[]),"./../../assets/icons/svg/dashboard.svg":()=>l((()=>import("./dashboard.66c3e50e.js")),[]),"./../../assets/icons/svg/date-range.svg":()=>l((()=>import("./date-range.9dd1d229.js")),[]),"./../../assets/icons/svg/date.svg":()=>l((()=>import("./date.489ce1de.js")),[]),"./../../assets/icons/svg/dict.svg":()=>l((()=>import("./dict.84bbd5d3.js")),[]),"./../../assets/icons/svg/documentation.svg":()=>l((()=>import("./documentation.2143ecb5.js")),[]),"./../../assets/icons/svg/download.svg":()=>l((()=>import("./download.f160bf8d.js")),[]),"./../../assets/icons/svg/drag.svg":()=>l((()=>import("./drag.b2ccdc01.js")),[]),"./../../assets/icons/svg/druid.svg":()=>l((()=>import("./druid.3bdbdb65.js")),[]),"./../../assets/icons/svg/edit.svg":()=>l((()=>import("./edit.278c6c34.js")),[]),"./../../assets/icons/svg/education.svg":()=>l((()=>import("./education.4518bd73.js")),[]),"./../../assets/icons/svg/email.svg":()=>l((()=>import("./email.bf16bc73.js")),[]),"./../../assets/icons/svg/example.svg":()=>l((()=>import("./example.3259f40a.js")),[]),"./../../assets/icons/svg/excel.svg":()=>l((()=>import("./excel.4f2ceea5.js")),[]),"./../../assets/icons/svg/exit-fullscreen.svg":()=>l((()=>import("./exit-fullscreen.67327f40.js")),[]),"./../../assets/icons/svg/eye-open.svg":()=>l((()=>import("./eye-open.3524a8eb.js")),[]),"./../../assets/icons/svg/eye.svg":()=>l((()=>import("./eye.6f282ff5.js")),[]),"./../../assets/icons/svg/form.svg":()=>l((()=>import("./form.126feaf3.js")),[]),"./../../assets/icons/svg/fullscreen.svg":()=>l((()=>import("./fullscreen.0cbe3933.js")),[]),"./../../assets/icons/svg/github.svg":()=>l((()=>import("./github.da02d3ce.js")),[]),"./../../assets/icons/svg/guide.svg":()=>l((()=>import("./guide.350f5d0f.js")),[]),"./../../assets/icons/svg/icon.svg":()=>l((()=>import("./icon.b7d362cf.js")),[]),"./../../assets/icons/svg/input.svg":()=>l((()=>import("./input.9081ef9d.js")),[]),"./../../assets/icons/svg/international.svg":()=>l((()=>import("./international.345efcd6.js")),[]),"./../../assets/icons/svg/job.svg":()=>l((()=>import("./job.86e86c39.js")),[]),"./../../assets/icons/svg/language.svg":()=>l((()=>import("./language.4c1406f6.js")),[]),"./../../assets/icons/svg/link.svg":()=>l((()=>import("./link.f9d47db1.js")),[]),"./../../assets/icons/svg/list.svg":()=>l((()=>import("./list.304b2426.js")),[]),"./../../assets/icons/svg/lock.svg":()=>l((()=>import("./lock.fd8412ce.js")),[]),"./../../assets/icons/svg/log.svg":()=>l((()=>import("./log.d23a99a0.js")),[]),"./../../assets/icons/svg/logininfor.svg":()=>l((()=>import("./logininfor.9ce04530.js")),[]),"./../../assets/icons/svg/message.svg":()=>l((()=>import("./message.904aed57.js")),[]),"./../../assets/icons/svg/money.svg":()=>l((()=>import("./money.7fcbe7fa.js")),[]),"./../../assets/icons/svg/monitor.svg":()=>l((()=>import("./monitor.3644c24d.js")),[]),"./../../assets/icons/svg/nested.svg":()=>l((()=>import("./nested.c732b836.js")),[]),"./../../assets/icons/svg/number.svg":()=>l((()=>import("./number.4c595b05.js")),[]),"./../../assets/icons/svg/online.svg":()=>l((()=>import("./online.7c82a6f3.js")),[]),"./../../assets/icons/svg/password.svg":()=>l((()=>import("./password.0fe641ef.js")),[]),"./../../assets/icons/svg/pdf.svg":()=>l((()=>import("./pdf.05eae5b6.js")),[]),"./../../assets/icons/svg/people.svg":()=>l((()=>import("./people.a4e6d9fb.js")),[]),"./../../assets/icons/svg/peoples.svg":()=>l((()=>import("./peoples.c9da6905.js")),[]),"./../../assets/icons/svg/phone.svg":()=>l((()=>import("./phone.ffa46456.js")),[]),"./../../assets/icons/svg/post.svg":()=>l((()=>import("./post.11ebc7a0.js")),[]),"./../../assets/icons/svg/qq.svg":()=>l((()=>import("./qq.43ad298e.js")),[]),"./../../assets/icons/svg/question.svg":()=>l((()=>import("./question.90991c77.js")),[]),"./../../assets/icons/svg/radio.svg":()=>l((()=>import("./radio.f30d9b90.js")),[]),"./../../assets/icons/svg/rate.svg":()=>l((()=>import("./rate.b23288fa.js")),[]),"./../../assets/icons/svg/redis.svg":()=>l((()=>import("./redis.2956a60d.js")),[]),"./../../assets/icons/svg/row.svg":()=>l((()=>import("./row.3c36acee.js")),[]),"./../../assets/icons/svg/search.svg":()=>l((()=>import("./search.3ecd719a.js")),[]),"./../../assets/icons/svg/select.svg":()=>l((()=>import("./select.8a108b76.js")),[]),"./../../assets/icons/svg/server.svg":()=>l((()=>import("./server.067336ca.js")),[]),"./../../assets/icons/svg/shopping.svg":()=>l((()=>import("./shopping.e82d30e0.js")),[]),"./../../assets/icons/svg/size.svg":()=>l((()=>import("./size.fc7fe0cd.js")),[]),"./../../assets/icons/svg/skill.svg":()=>l((()=>import("./skill.70b1d067.js")),[]),"./../../assets/icons/svg/slider.svg":()=>l((()=>import("./slider.a5a0c613.js")),[]),"./../../assets/icons/svg/star.svg":()=>l((()=>import("./star.38dac91c.js")),[]),"./../../assets/icons/svg/swagger.svg":()=>l((()=>import("./swagger.b0e10080.js")),[]),"./../../assets/icons/svg/switch.svg":()=>l((()=>import("./switch.756cf39d.js")),[]),"./../../assets/icons/svg/system.svg":()=>l((()=>import("./system.1bd2c776.js")),[]),"./../../assets/icons/svg/tab.svg":()=>l((()=>import("./tab.c68860f5.js")),[]),"./../../assets/icons/svg/table.svg":()=>l((()=>import("./table.a354204c.js")),[]),"./../../assets/icons/svg/textarea.svg":()=>l((()=>import("./textarea.e5ea84bb.js")),[]),"./../../assets/icons/svg/theme.svg":()=>l((()=>import("./theme.c54ca825.js")),[]),"./../../assets/icons/svg/time-range.svg":()=>l((()=>import("./time-range.2b9bd124.js")),[]),"./../../assets/icons/svg/time.svg":()=>l((()=>import("./time.e963d3ec.js")),[]),"./../../assets/icons/svg/tool.svg":()=>l((()=>import("./tool.f2b7d311.js")),[]),"./../../assets/icons/svg/tree-table.svg":()=>l((()=>import("./tree-table.b41f1538.js")),[]),"./../../assets/icons/svg/tree.svg":()=>l((()=>import("./tree.bd000eda.js")),[]),"./../../assets/icons/svg/upload.svg":()=>l((()=>import("./upload.6ea5d88f.js")),[]),"./../../assets/icons/svg/user.svg":()=>l((()=>import("./user.56926171.js")),[]),"./../../assets/icons/svg/validCode.svg":()=>l((()=>import("./validCode.b62162f3.js")),[]),"./../../assets/icons/svg/wechat.svg":()=>l((()=>import("./wechat.cf2ed5f9.js")),[]),"./../../assets/icons/svg/zip.svg":()=>l((()=>import("./zip.2ac337de.js")),[])};for(const J in r){const e=J.split("assets/icons/svg/")[1].split(".svg")[0];n.push(e)}const c={class:"icon-body"},d=(e=>(Vue.pushScopeId("data-v-9da32cfc"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("i",{class:"el-icon-search el-input__icon"},null,-1))),i={class:"icon-list"},_=["onClick"];var p=s({emits:["selected"],setup(e,{expose:t,emit:u}){const o=Vue.ref(""),a=Vue.ref(n);function l(){a.value=n,o.value&&(a.value=n.filter((e=>-1!==e.indexOf(o.value))))}return t({reset:function(){o.value="",a.value=n}}),(e,t)=>{const s=Vue.resolveComponent("el-input"),V=Vue.resolveComponent("svg-icon");return Vue.openBlock(),Vue.createElementBlock("div",c,[Vue.createVNode(s,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),style:{position:"relative"},clearable:"",placeholder:"请输入图标名称",onClear:l,onInput:l},{suffix:Vue.withCtx((()=>[d])),_:1},8,["modelValue"]),Vue.createElementVNode("div",i,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(a.value,((e,t)=>(Vue.openBlock(),Vue.createElementBlock("div",{key:t,onClick:t=>(u("selected",e),void document.body.click())},[Vue.createVNode(V,{"icon-class":e,style:{height:"30px",width:"16px"}},null,8,["icon-class"]),Vue.createElementVNode("span",null,Vue.toDisplayString(e),1)],8,_)))),128))])])}}},[["__scopeId","data-v-9da32cfc"]]);const m={class:"app-container"},v=Vue.createTextVNode("搜索"),f=Vue.createTextVNode("重置"),h=Vue.createTextVNode("新增"),g=Vue.createTextVNode("目录"),E=Vue.createTextVNode("菜单"),N=Vue.createTextVNode("api/按钮"),w=Vue.createTextVNode("是否外链 "),x=Vue.createTextVNode("是"),C=Vue.createTextVNode("否"),b=Vue.createTextVNode(" 路由地址 "),k=Vue.createTextVNode(" 组件路径 "),y={key:3},T={key:4},D={key:5},P=Vue.createTextVNode(" 请求方法 "),I=Vue.createElementVNode("div",null,[Vue.createTextVNode(" 日志记录方式: "),Vue.createElementVNode("br"),Vue.createTextVNode("分为三种方式: "),Vue.createElementVNode("br"),Vue.createTextVNode("不缓存:每次都从数据库获取，用于经常更新的数据 "),Vue.createElementVNode("br"),Vue.createTextVNode("按访问人:用于缓存每个人访问数据都不同的数据 "),Vue.createElementVNode("br"),Vue.createTextVNode("公共缓存:用于数据更新较少，不区分个人的数据 ")],-1),L=Vue.createTextVNode(" 缓存方式 "),R=Vue.createElementVNode("div",null,[Vue.createTextVNode(" 日志记录方式: "),Vue.createElementVNode("br"),Vue.createTextVNode("分为四种方式: "),Vue.createElementVNode("br"),Vue.createTextVNode("不记录 "),Vue.createElementVNode("br"),Vue.createTextVNode("文件记录 "),Vue.createElementVNode("br"),Vue.createTextVNode("数据库记录 "),Vue.createElementVNode("br"),Vue.createTextVNode("文件+数据库记录 ")],-1),j=Vue.createTextVNode(" 日志记录 "),A=Vue.createTextVNode(" 路由参数 "),O=Vue.createTextVNode(" 是否缓存 "),B=Vue.createTextVNode("缓存"),F=Vue.createTextVNode("不缓存"),U=Vue.createTextVNode(" 数据权限 "),S=Vue.createTextVNode("关闭"),q=Vue.createTextVNode("开启"),M=Vue.createTextVNode(" 显示状态 "),z=Vue.createTextVNode(" 菜单状态 "),$={class:"dialog-footer"},G=Vue.createTextVNode("确 定"),K=Vue.createTextVNode("取 消"),Q=Vue.defineComponent({name:"Menu"}),H=Object.assign(Q,{setup(l){const{proxy:s}=Vue.getCurrentInstance(),{sys_show_hide:n,sys_normal_disable:r,sys_api_method:c,api_cache_method:d,api_log_method:i}=s.useDict("sys_show_hide","sys_normal_disable","sys_api_method","api_cache_method","api_log_method"),_=Vue.ref([]),Q=Vue.ref({}),H=Vue.ref(!1),J=Vue.ref(!0),W=Vue.ref(!0),X=Vue.ref(""),Y=Vue.ref([]),Z=Vue.ref(!1),ee=Vue.ref(null),te=Vue.ref(!0),ue=Vue.ref(null),oe=Vue.ref(null),ae=Vue.reactive({form:{},queryParams:{menu_name:void 0,status:void 0},rules:{menu_name:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],order_sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}],api:[{required:!0,message:"菜单的唯一标志不能为空",trigger:"blur"}]}}),{queryParams:le,form:se,rules:Ve}=Vue.toRefs(ae);async function ne(){J.value=!0;const{list:t}=await e(le.value),{mainTree:u,mapTree:o}=s.handleTreeLazy(t,"id","pid");_.value=u,Q.value=o,J.value=!1}async function re(){Y.value=[];const{list:t}=await e(le.value),u={id:0,menu_name:"主类目",children:[]};u.children=s.handleTree(t,"id","pid"),Y.value.push(u)}Vue.watch((()=>se.value.method),((e,t)=>{"GET"!==e&&(se.value.data_scope="0",se.value.data_cache_method="0")}));const ce=new Map;async function de(e){let t=ce.get(e);if(t){const{tree:e,treeNode:u,resolve:o}=t;ie(e,u,o)}else te.value=!1,Vue.nextTick((()=>{te.value=!0}))}const ie=(e,t,u)=>{const o=e.id;ce.set(o,{tree:e,treeNode:t,resolve:u}),Q.value[e.id]?setTimeout((()=>{u(Q.value[e.id])}),1):(te.value=!1,Vue.nextTick((()=>{te.value=!0})))};function _e(){se.value.id=ue.value,H.value=!1,pe()}function pe(){se.value={id:void 0,pid:"0",menu_name:void 0,icon:void 0,menu_type:"M",order_sort:void 0,data_scope:"0",is_frame:"0",method:void 0,is_cache:"1",log_method:"3",data_cache_method:"1",visible:"1",status:"1",remark:""},s.resetForm("menuRef")}function me(){ee.value.reset(),Z.value=!0}function ve(e){se.value.icon=e,Z.value=!1}function fe(){_e(),Z.value=!1}function he(){ne()}function ge(){s.resetForm("queryRef"),he()}async function Ee(e){let t;oe.value=e.pid,pe(),await re(),null!=e&&e.id?se.value.pid=e.id:se.value.pid="0",se.value.menu_name="C"==e.menu_type?e.menu_name+"-":void 0,t=null==e.menu_type?"M":"M"==e.menu_type?"C":"F",se.value.menu_type=t,H.value=!0,X.value="添加菜单"}function Ne(){s.$refs.menuRef.validate((e=>{if(e){if("F"!=se.value.menu_type&&-1!=se.value.api.indexOf("/"))return void s.$modal.msgError("格式错误，不能为api路径,不能包含/");null!=se.value.id?u(se.value).then((async e=>{s.$modal.msgSuccess("修改成功"),H.value=!1,await ne(),await de(se.value.pid),await de(oe.value),oe.value=void 0})):o(se.value).then((async e=>{s.$modal.msgSuccess("新增成功"),H.value=!1,await ne(),await de(se.value.pid),await de(oe.value),oe.value=void 0}))}ue.value=void 0}))}return ne(),(e,u)=>{const o=Vue.resolveComponent("el-input"),l=Vue.resolveComponent("el-form-item"),Q=Vue.resolveComponent("el-option"),ae=Vue.resolveComponent("el-select"),ce=Vue.resolveComponent("el-button"),we=Vue.resolveComponent("el-form"),xe=Vue.resolveComponent("el-col"),Ce=Vue.resolveComponent("right-toolbar"),be=Vue.resolveComponent("el-row"),ke=Vue.resolveComponent("el-table-column"),ye=Vue.resolveComponent("dict-tag"),Te=Vue.resolveComponent("el-tooltip"),De=Vue.resolveComponent("el-table"),Pe=Vue.resolveComponent("tree-select"),Ie=Vue.resolveComponent("el-radio"),Le=Vue.resolveComponent("el-radio-group"),Re=Vue.resolveComponent("search"),je=Vue.resolveComponent("el-icon"),Ae=Vue.resolveComponent("el-popover"),Oe=Vue.resolveComponent("el-input-number"),Be=Vue.resolveComponent("info-filled"),Fe=Vue.resolveComponent("el-dialog"),Ue=Vue.resolveDirective("hasPermi"),Se=Vue.resolveDirective("loading");return Vue.openBlock(),Vue.createElementBlock("div",m,[Vue.withDirectives(Vue.createVNode(we,{model:Vue.unref(le),ref:"queryRef",inline:!0},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"菜单名称",prop:"menu_name"},{default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(le).menu_name,"onUpdate:modelValue":u[0]||(u[0]=e=>Vue.unref(le).menu_name=e),placeholder:"请输入菜单名称",clearable:"",onKeyup:Vue.withKeys(he,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),Vue.createVNode(l,{label:"状态",prop:"status"},{default:Vue.withCtx((()=>[Vue.createVNode(ae,{modelValue:Vue.unref(le).status,"onUpdate:modelValue":u[1]||(u[1]=e=>Vue.unref(le).status=e),placeholder:"菜单状态",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(r),(e=>(Vue.openBlock(),Vue.createBlock(Q,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),Vue.createVNode(l,null,{default:Vue.withCtx((()=>[Vue.createVNode(ce,{type:"primary",icon:"Search",onClick:he},{default:Vue.withCtx((()=>[v])),_:1}),Vue.createVNode(ce,{icon:"Refresh",onClick:ge},{default:Vue.withCtx((()=>[f])),_:1})])),_:1})])),_:1},8,["model"]),[[Vue.vShow,W.value]]),Vue.createVNode(be,{gutter:10,class:"mb8",style:{height:"35px"}},{default:Vue.withCtx((()=>[Vue.createVNode(xe,{span:1.5},{default:Vue.withCtx((()=>[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(ce,{type:"primary",plain:"",icon:"Plus",onClick:Ee},{default:Vue.withCtx((()=>[h])),_:1})),[[Ue,["system/menu/add"]]])])),_:1},8,["span"]),Vue.createVNode(Ce,{showSearch:W.value,"onUpdate:showSearch":u[2]||(u[2]=e=>W.value=e),onQueryTable:ne},null,8,["showSearch"])])),_:1}),te.value?Vue.withDirectives((Vue.openBlock(),Vue.createBlock(De,{key:0,ref:"menuTable",data:_.value,"row-key":"id",lazy:"",load:ie,"tree-props":{children:"children",hasChildren:"hasChildren"}},{default:Vue.withCtx((()=>[Vue.createVNode(ke,{prop:"menu_name",label:"菜单名称","show-overflow-tooltip":!0,width:"200"}),Vue.createVNode(ke,{prop:"icon",label:"图标",align:"center",width:"100"},{default:Vue.withCtx((e=>[Vue.createVNode(Vue.unref(V),{"icon-class":e.row.icon},null,8,["icon-class"])])),_:1}),Vue.createVNode(ke,{prop:"order_sort",label:"排序",width:"100"}),Vue.createVNode(ke,{prop:"api",label:"唯一标识","show-overflow-tooltip":!0}),Vue.createVNode(ke,{prop:"component",label:"组件路径","show-overflow-tooltip":!0}),Vue.createVNode(ke,{prop:"method",label:"方法",width:"80"},{default:Vue.withCtx((e=>[Vue.createVNode(ye,{options:Vue.unref(c),value:e.row.method},null,8,["options","value"])])),_:1}),Vue.createVNode(ke,{prop:"method",label:"数据权限",width:"80"},{default:Vue.withCtx((e=>["GET"==e.row.method?(Vue.openBlock(),Vue.createBlock(ye,{key:0,options:Vue.unref(r),value:e.row.data_scope},null,8,["options","value"])):Vue.createCommentVNode("",!0)])),_:1}),Vue.createVNode(ke,{prop:"status",label:"状态",width:"60"},{default:Vue.withCtx((e=>[Vue.createVNode(ye,{options:Vue.unref(r),value:e.row.status},null,8,["options","value"])])),_:1}),Vue.createVNode(ke,{prop:"visible",label:"显示",width:"60"},{default:Vue.withCtx((e=>[Vue.createVNode(ye,{options:Vue.unref(n),value:e.row.visible},null,8,["options","value"])])),_:1}),Vue.createVNode(ke,{label:"创建时间",align:"center",prop:"created_at","show-overflow-tooltip":""},{default:Vue.withCtx((t=>[Vue.createElementVNode("span",null,Vue.toDisplayString(e.parseTime(t.row.created_at)),1)])),_:1}),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(ke,{label:"操作",align:"center",width:"200","class-name":"small-padding fixed-width"},{default:Vue.withCtx((u=>[Vue.createVNode(Te,{content:"修改",placement:"top"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(ce,{type:"text",icon:"Edit",style:{color:"chocolate"},onClick:e=>async function(e){oe.value=e.pid,pe(),await re();const u={id:e.id},o=await t(u);se.value=o,H.value=!0,X.value="修改菜单"}(u.row)},null,8,["onClick"]),[[Ue,["system/menu/edit"]]])])),_:2},1024),Vue.createVNode(Te,{content:"复制",placement:"top"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(ce,{type:"text",icon:"copy-document",style:{color:"violet"},onClick:e=>async function(e){ue.value=e.id,oe.value=e.pid,pe(),await re(),se.value=e,se.value.id=void 0,H.value=!0,X.value="添加菜单"}(u.row)},null,8,["onClick"]),[[Ue,["system/menu/add"]]])])),_:2},1024),Vue.createVNode(Te,{content:"新增",placement:"top"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(ce,{type:"text",icon:"FolderAdd",onClick:e=>Ee(u.row)},null,8,["onClick"]),[[Ue,["system/menu/add"]]])])),_:2},1024),Vue.createVNode(Te,{content:"删除",placement:"top"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(ce,{style:{color:"red"},type:"text",icon:"Delete",onClick:e=>function(e){const t=e.id;s.$modal.confirm('是否确认删除名称为"'+e.menu_name+'"的数据项?').then((function(){return a({id:t})})).then((async()=>{await ne(),await de(se.value.pid),s.$modal.msgSuccess("删除成功")})).catch((()=>{}))}(u.row)},null,8,["onClick"]),[[Ue,["system/menu/delete"]]])])),_:2},1024),"F"==u.row.menu_type?(Vue.openBlock(),Vue.createBlock(Te,{key:0,content:"数据库关联",placement:"top"},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(ce,{style:{color:"green"},type:"text",icon:"DataBoard",onClick:t=>e.handleDbRelation(u.row)},null,8,["onClick"]),[[Ue,["system/menu/delete"]]])])),_:2},1024)):Vue.createCommentVNode("",!0)])),_:1})),[[Ue,["system/menu/edit","system/menu/delete","system/menu/add"]]])])),_:1},8,["data"])),[[Se,J.value]]):Vue.createCommentVNode("",!0),Vue.createVNode(Fe,{title:X.value,modelValue:H.value,"onUpdate:modelValue":u[22]||(u[22]=e=>H.value=e),width:"680px","before-close":fe,"append-to-body":""},{footer:Vue.withCtx((()=>[Vue.createElementVNode("div",$,[Vue.createVNode(ce,{type:"primary",onClick:Ne},{default:Vue.withCtx((()=>[G])),_:1}),Vue.createVNode(ce,{onClick:_e},{default:Vue.withCtx((()=>[K])),_:1})])])),default:Vue.withCtx((()=>[Vue.createVNode(we,{ref:"menuRef",model:Vue.unref(se),rules:Vue.unref(Ve),"label-width":"100px"},{default:Vue.withCtx((()=>[Vue.createVNode(be,null,{default:Vue.withCtx((()=>[Vue.createVNode(xe,{span:24},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"上级菜单"},{default:Vue.withCtx((()=>[Vue.createVNode(Pe,{value:Vue.unref(se).pid,"onUpdate:value":u[3]||(u[3]=e=>Vue.unref(se).pid=e),options:Y.value,objMap:{value:"id",label:"menu_name",children:"children"},placeholder:"选择上级菜单"},null,8,["value","options"])])),_:1})])),_:1}),Vue.createVNode(xe,{span:24},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"菜单类型",prop:"menu_type"},{default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).menu_type,"onUpdate:modelValue":u[4]||(u[4]=e=>Vue.unref(se).menu_type=e)},{default:Vue.withCtx((()=>[Vue.createVNode(Ie,{label:"M"},{default:Vue.withCtx((()=>[g])),_:1}),Vue.createVNode(Ie,{label:"C"},{default:Vue.withCtx((()=>[E])),_:1}),Vue.createVNode(Ie,{label:"F"},{default:Vue.withCtx((()=>[N])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),"F"!=Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:0,span:24},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"菜单图标",prop:"icon"},{default:Vue.withCtx((()=>[Vue.createVNode(Ae,{placement:"bottom-start",width:540,visible:Z.value,"onUpdate:visible":u[6]||(u[6]=e=>Z.value=e),trigger:"click",onShow:me},{reference:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).icon,"onUpdate:modelValue":u[5]||(u[5]=e=>Vue.unref(se).icon=e),placeholder:"点击选择图标",onClick:me,readonly:""},{prefix:Vue.withCtx((()=>[Vue.unref(se).icon?(Vue.openBlock(),Vue.createBlock(Vue.unref(V),{key:0,"icon-class":Vue.unref(se).icon,class:"el-input__icon",style:{height:"32px",width:"16px"}},null,8,["icon-class"])):(Vue.openBlock(),Vue.createBlock(je,{key:1,style:{height:"32px",width:"16px"}},{default:Vue.withCtx((()=>[Vue.createVNode(Re)])),_:1}))])),_:1},8,["modelValue"])])),default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(p),{ref_key:"iconSelectRef",ref:ee,onSelected:ve},null,512)])),_:1},8,["visible"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(xe,{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"菜单名称",prop:"menu_name"},{default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).menu_name,"onUpdate:modelValue":u[7]||(u[7]=e=>Vue.unref(se).menu_name=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])])),_:1})])),_:1}),Vue.createVNode(xe,{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"显示排序",prop:"order_sort"},{default:Vue.withCtx((()=>[Vue.createVNode(Oe,{modelValue:Vue.unref(se).order_sort,"onUpdate:modelValue":u[8]||(u[8]=e=>Vue.unref(se).order_sort=e),"controls-position":"right",min:0},null,8,["modelValue"])])),_:1})])),_:1}),"F"!=Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:1,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"选择是外链则路由地址需要以`http(s)://`开头",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),w])])),default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).is_frame,"onUpdate:modelValue":u[9]||(u[9]=e=>Vue.unref(se).is_frame=e)},{default:Vue.withCtx((()=>[Vue.createVNode(Ie,{label:"1"},{default:Vue.withCtx((()=>[x])),_:1}),Vue.createVNode(Ie,{label:"0"},{default:Vue.withCtx((()=>[C])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"!=Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:2,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{prop:"path"},{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),b])])),default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).path,"onUpdate:modelValue":u[10]||(u[10]=e=>Vue.unref(se).path=e),placeholder:"请输入路由地址"},null,8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"C"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:3,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{prop:"component"},{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"访问的组件路径，如：`system/user/index`，默认在`views`目录下",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),k])])),default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).component,"onUpdate:modelValue":u[11]||(u[11]=e=>Vue.unref(se).component=e),placeholder:"请输入组件路径"},null,8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(xe,{span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{prop:"api"},{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,["M"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(Te,{key:0,content:"目录的唯一标志，建议格式M-name，如：`M-sys`,`M-system-menu`",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1})):"C"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(Te,{key:1,content:"菜单唯一标志，同目录标志，如：`M-system-menu`",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1})):"F"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(Te,{key:2,content:"API/按钮的唯一标志，可为API,如：`system/user/add`,若只是单纯控制按钮显示，建议B-name，如：`B-export`",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"M"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createElementBlock("span",y,"目录标志")):"C"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createElementBlock("span",T,"菜单API")):"F"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createElementBlock("span",D,"api标志")):Vue.createCommentVNode("",!0)])])),default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).api,"onUpdate:modelValue":u[12]||(u[12]=e=>Vue.unref(se).api=e),placeholder:"请输入唯一标识",maxlength:"100"},null,8,["modelValue"])])),_:1})])),_:1}),"F"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:4,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,{prop:"method"},{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"API 请求方法，如：`GET`,`POST`，`PUT`,`DELETE`",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),P])])),default:Vue.withCtx((()=>[Vue.createVNode(ae,{modelValue:Vue.unref(se).method,"onUpdate:modelValue":u[13]||(u[13]=e=>Vue.unref(se).method=e),placeholder:"请求方法",clearable:""},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(c),(e=>(Vue.openBlock(),Vue.createBlock(Q,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"==Vue.unref(se).menu_type&&"GET"==Vue.unref(se).method?(Vue.openBlock(),Vue.createBlock(xe,{key:5,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{placement:"top"},{content:Vue.withCtx((()=>[I])),default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),L])])),default:Vue.withCtx((()=>[Vue.createVNode(ae,{modelValue:Vue.unref(se).data_cache_method,"onUpdate:modelValue":u[14]||(u[14]=e=>Vue.unref(se).data_cache_method=e),placeholder:"请求方法"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(d),(e=>(Vue.openBlock(),Vue.createBlock(Q,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:6,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{placement:"top"},{content:Vue.withCtx((()=>[R])),default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),j])])),default:Vue.withCtx((()=>[Vue.createVNode(ae,{modelValue:Vue.unref(se).log_method,"onUpdate:modelValue":u[15]||(u[15]=e=>Vue.unref(se).log_method=e),placeholder:"请求方法"},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(i),(e=>(Vue.openBlock(),Vue.createBlock(Q,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"C"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:7,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:'访问路由的默认传递参数，如：`{"id": 1, "name": "ry"}`',placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),A])])),default:Vue.withCtx((()=>[Vue.createVNode(o,{modelValue:Vue.unref(se).query,"onUpdate:modelValue":u[16]||(u[16]=e=>Vue.unref(se).query=e),placeholder:"请输入路由参数",maxlength:"255"},null,8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"C"==Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:8,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),O])])),default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).is_cache,"onUpdate:modelValue":u[17]||(u[17]=e=>Vue.unref(se).is_cache=e)},{default:Vue.withCtx((()=>[Vue.createVNode(Ie,{label:"1"},{default:Vue.withCtx((()=>[B])),_:1}),Vue.createVNode(Ie,{label:"0"},{default:Vue.withCtx((()=>[F])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"==Vue.unref(se).menu_type&&"GET"==Vue.unref(se).method?(Vue.openBlock(),Vue.createBlock(xe,{key:9,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"是否开启数据权限,开启后可以设置数据权限",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),U])])),default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).data_scope,"onUpdate:modelValue":u[18]||(u[18]=e=>Vue.unref(se).data_scope=e)},{default:Vue.withCtx((()=>[Vue.createVNode(Ie,{label:"0"},{default:Vue.withCtx((()=>[S])),_:1}),Vue.createVNode(Ie,{label:"1"},{default:Vue.withCtx((()=>[q])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"!=Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:10,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"选择隐藏则路由将不会出现在侧边栏，但仍然可以访问",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),M])])),default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).visible,"onUpdate:modelValue":u[19]||(u[19]=e=>Vue.unref(se).visible=e)},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(n),(e=>(Vue.openBlock(),Vue.createBlock(Ie,{key:e.value,label:e.value},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),"F"!=Vue.unref(se).menu_type?(Vue.openBlock(),Vue.createBlock(xe,{key:11,span:12},{default:Vue.withCtx((()=>[Vue.createVNode(l,null,{label:Vue.withCtx((()=>[Vue.createElementVNode("span",null,[Vue.createVNode(Te,{content:"选择停用则路由将不会出现在侧边栏，也不能被访问",placement:"top"},{default:Vue.withCtx((()=>[Vue.createVNode(je,null,{default:Vue.withCtx((()=>[Vue.createVNode(Be)])),_:1})])),_:1}),z])])),default:Vue.withCtx((()=>[Vue.createVNode(Le,{modelValue:Vue.unref(se).status,"onUpdate:modelValue":u[20]||(u[20]=e=>Vue.unref(se).status=e)},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(r),(e=>(Vue.openBlock(),Vue.createBlock(Ie,{key:e.value,label:e.value},{default:Vue.withCtx((()=>[Vue.createTextVNode(Vue.toDisplayString(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):Vue.createCommentVNode("",!0),Vue.createVNode(xe,{span:24},{default:Vue.withCtx((()=>[Vue.createVNode(l,{label:"备注",prop:"remark"},{default:Vue.withCtx((()=>[Vue.createVNode(o,{type:"textarea",modelValue:Vue.unref(se).remark,"onUpdate:modelValue":u[21]||(u[21]=e=>Vue.unref(se).remark=e),placeholder:"请输入备注"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["title","modelValue"])])}}});export{H as default};
