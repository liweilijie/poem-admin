import{s as e}from"./index.5d61a7e0.js";const t={class:"app-container"},l=Vue.createTextVNode("搜索"),o=Vue.createTextVNode("重置"),a=Vue.createTextVNode("强退"),u=Vue.defineComponent({name:"Online"}),n=Object.assign(u,{setup(u){const{proxy:n}=Vue.getCurrentInstance(),r=Vue.ref([]),i=Vue.ref(!0),V=Vue.ref(0),d=Vue.ref({ipaddr:void 0,user_name:void 0,page_num:1,page_size:10});function p(){var t;i.value=!0,(t=d.value,e({url:"/system/online/list",method:"get",params:t})).then((e=>{r.value=e.list,V.value=e.total,i.value=!1}))}function c(){page_num.value=1,p()}function s(){n.resetForm("queryRef"),c()}function m(t){let l=[t.id];n.$modal.confirm('是否确认强退名称为"'+t.user_name+'"的用户?').then((function(){return e({url:"/system/online/delete",method:"delete",data:{ids:l}})})).then((()=>{p(),n.$modal.msgSuccess("强退成功")})).catch((()=>{}))}return p(),(e,u)=>{const n=Vue.resolveComponent("el-input"),v=Vue.resolveComponent("el-form-item"),w=Vue.resolveComponent("el-button"),h=Vue.resolveComponent("el-form"),f=Vue.resolveComponent("el-table-column"),g=Vue.resolveComponent("el-table"),N=Vue.resolveComponent("pagination"),_=Vue.resolveDirective("hasPermi"),C=Vue.resolveDirective("loading");return Vue.openBlock(),Vue.createElementBlock("div",t,[Vue.createVNode(h,{model:d.value,ref:"queryRef",inline:!0,"label-width":"68px"},{default:Vue.withCtx((()=>[Vue.createVNode(v,{label:"登录地址",prop:"ipaddr"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:d.value.ipaddr,"onUpdate:modelValue":u[0]||(u[0]=e=>d.value.ipaddr=e),placeholder:"请输入登录地址",clearable:"",onKeyup:Vue.withKeys(c,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),Vue.createVNode(v,{label:"用户名称",prop:"userName"},{default:Vue.withCtx((()=>[Vue.createVNode(n,{modelValue:d.value.userName,"onUpdate:modelValue":u[1]||(u[1]=e=>d.value.userName=e),placeholder:"请输入用户名称",clearable:"",onKeyup:Vue.withKeys(c,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),Vue.createVNode(v,null,{default:Vue.withCtx((()=>[Vue.createVNode(w,{type:"primary",icon:"Search",onClick:c},{default:Vue.withCtx((()=>[l])),_:1}),Vue.createVNode(w,{icon:"Refresh",onClick:s},{default:Vue.withCtx((()=>[o])),_:1})])),_:1})])),_:1},8,["model"]),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(g,{data:r.value,style:{width:"100%"}},{default:Vue.withCtx((()=>[Vue.createVNode(f,{label:"序号",width:"50",type:"index",align:"center",index:e=>1+e+(d.value.page_num-1)*d.value.page_size},null,8,["index"]),Vue.createVNode(f,{label:"会话编号",align:"center",prop:"id","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"登录名称",align:"center",prop:"user_name","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"所属部门",align:"center",prop:"dept_name","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"网络",align:"center",prop:"net","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"主机",align:"center",prop:"ipaddr","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"登录地点",align:"center",prop:"login_location","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"操作系统",align:"center",prop:"os","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"浏览器",align:"center",prop:"browser","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"设备",align:"center",prop:"device","show-overflow-tooltip":!0}),Vue.createVNode(f,{label:"登录时间",align:"center",prop:"login_time",width:"180"},{default:Vue.withCtx((t=>[Vue.createElementVNode("span",null,Vue.toDisplayString(e.parseTime(t.row.login_time)),1)])),_:1}),Vue.createVNode(f,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:Vue.withCtx((e=>[Vue.withDirectives((Vue.openBlock(),Vue.createBlock(w,{type:"text",icon:"Delete",onClick:t=>m(e.row)},{default:Vue.withCtx((()=>[a])),_:2},1032,["onClick"])),[[_,["system/online/delete"]]])])),_:1})])),_:1},8,["data"])),[[C,i.value]]),Vue.withDirectives(Vue.createVNode(N,{total:V.value,page:d.value.page_num,"onUpdate:page":u[2]||(u[2]=e=>d.value.page_num=e),limit:d.value.page_size,"onUpdate:limit":u[3]||(u[3]=e=>d.value.page_size=e),onPagination:p},null,8,["total","page","limit"]),[[Vue.vShow,V.value>0]])])}}});export{n as default};
